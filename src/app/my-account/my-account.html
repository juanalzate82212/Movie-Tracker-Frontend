<div class="account-page" *ngIf="!loading && user">

  <section class="page-header">
    <h1>Mi Cuenta</h1>
    <p class="subtitle">Tu informaciÃ³n y estadÃ­sticas</p>
  </section>
  <!-- PERFIL -->
  <div class="profile-wrapper">
    <div class="profile-card">
      <img
        class="avatar"
        [src]="profileImageUrl"
        alt="Foto de perfil" />

      <div class="profile-info">
        <p class="email">
          {{ user.email }}
        </p>
        <p class="since">
          Miembro desde {{ user.createdAt | date:'longDate' }}
        </p>
      </div>
    </div>
  </div>

  <!-- STATS -->
  <div class="stats-wrapper" *ngIf="stats">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">ğŸ¬</div>
        <span class="stat-number">{{ stats.totalMovies }}</span>
        <span class="stat-label">PelÃ­culas agregadas</span>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ‘ï¸</div>
        <span class="stat-number">{{ stats.watched }}</span>
        <span class="stat-label">Vistas</span>
      </div>

      <div class="stat-card">
        <div class="stat-icon">â³</div>
        <span class="stat-number">{{ stats.pending }}</span>
        <span class="stat-label">Pendientes</span>
      </div>

      <div class="stat-card">
        <div class="stat-icon">â­</div>
        <span class="stat-number">
          {{ stats.averageRating ? (stats.averageRating | number:'1.1-1') : 'â€”'
          }}
        </span>
        <span class="stat-label">Rating promedio</span>
      </div>
    </div>

    <div class="most-watched-card" *ngIf="mostWatchedTitle">
      <div class="stat-icon big">ğŸ”¥</div>

      <div class="content">
        <span class="stat-label">PelÃ­cula mÃ¡s vista</span>
        <h3 class="stat-number">{{ mostWatchedTitle }}</h3>
        <p>Vista {{ stats.mostAddedCount }} veces</p>
      </div>
    </div>
  </div>

</div>
