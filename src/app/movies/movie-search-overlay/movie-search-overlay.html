<!--
<div class="overlay">
  <div class="overlay-content">
    <button class="close-btn" (click)="closeOverlay()">✖</button>
    <input [formControl]="searchControl" placeholder="Buscar película" />

    <button type="button" (click)="search()">Buscar</button>

    <p *ngIf="loading">Buscando...</p>

    <ul *ngIf="!loading && results.length > 0">
      <li *ngFor="let movie of results" (click)="selectMovie(movie)">
        <strong>{{ movie.title }}</strong>
        <span *ngIf="movie.releaseDate">
          ({{ movie.releaseDate | date:'yyyy' }})
        </span>
      </li>
    </ul>

    <p *ngIf="!loading && searched && results.length === 0">
      No hay resultados
    </p>

  </div>
</div>
-->

<div class="overlay" (click)="closeOverlay()">
  <div class="overlay-content" (click)="$event.stopPropagation()">

    <button class="close-btn" (click)="closeOverlay()">✖</button>

    <section class="page-header">
      <h2>Buscar película</h2>
    </section>

    <input
      [formControl]="searchControl"
      placeholder="Escribe el nombre de una película..."
    />

    <button class="search-btn" type="button" (click)="search()">
      Buscar
    </button>

    <div class="results">

      <p class="loading" *ngIf="loading">Buscando...</p>

      <div
        class="result-item"
        *ngFor="let movie of results"
        (click)="selectMovie(movie)"
      >
        <img
          *ngIf="movie.posterPath"
          [src]="'https://image.tmdb.org/t/p/w92' + movie.posterPath"
          alt="{{ movie.title }}"
        />

        <div class="info">
          <strong>{{ movie.title }}</strong>
          <span *ngIf="movie.releaseDate">
            {{ movie.releaseDate | date:'yyyy' }}
          </span>
        </div>
      </div>

      <p class="empty" *ngIf="!loading && searched && results.length === 0">
        No hay resultados
      </p>

    </div>
  </div>
</div>
